现在面试还在不停的问hashmap,concurrenthashmap，贼烦，受不了，所以全面总结一次。

面试官总喜欢问：平时用过hashmap吗，简直废话，我很好奇为什么不问问你们平时是什么业务场景用hashmap,使用注意什么，hashmap怎么遍历的，这些实际用的问题？

而且都是问

1. 你知道hashmap1.7和1.8的区别吗？
2. 为什么要1.8要引入红黑树，什么时候转成红黑树，什么时候退化成红黑树？
3. 为什么转成红黑树的阈值是8，而不是7，也不是20等
4. 1.7使用头插法会有什么问题？1.8是怎么解决的？尾插法为什么可以解决1.7出现的死循环问题？
5. hashmap是怎么定位数据的，hash算法知道吗？怎么实现的？1.7和1.8有啥区别吗？
6. hashmap的初始化是多少？为什么是16，为什么是2的n次？
7. 1.7和1.8resize扩容有什么区别吗？
8. 1.7为什么是先扩容在插入，1.8是先插入后扩容
9. hashmap可以存key为null的kv吗？
10. 为什么hashmap中String,Integer这样的包装类适合当key？



回答如下：

1. hashmap1.7是使用数组+链表的形式，hashmap1.8是使用数组+链表+红黑树形式
2. 1.8引入红黑树的原因是：当链表长度过长时，查询时间复杂度是O（n）,n为链表长度，影响查询性能，所以引入了红黑树，当链表长度大于等于8时，链表转成红黑树，当链表长度小于6的时候，退化为链表
3. 