## java

1. http服务，单例的改写（双检锁）
   衍生出来的http,tcp必须熟悉
   单例的五种写法，原来写法的问题->双检锁的好处
2. 线程池的应用（自建线程池）
   线程池自定义参数的含义，future，join的使用。
3. 使用future实现callback回调

## mysql

1. 重构交换系统：从表结构叙述（三范式）
   数据库三范式的含义，关系型数据库与菲关系型的区别

2. 工单表索引优化：建联合索引，多表查询改单表查询
   索引相关，回表，索引优化，最左前缀树，redo,undo等等。
   为啥不能查*
   查工单表，查出来主键id,不需要回表，根据主键id再去找fwform中找数据，主键id是uuid，不好建索引，查找的过程在代码中实现，不通过多表查询，多表的坏处。
   
   | 索引               | 内容                                    |                        |
   | ------------------ | --------------------------------------- | ---------------------- |
   | innodb下的一条记录 | 行记录的存放形式，一条记录中有哪些字段  |                        |
   | 存放记录的盘子     | 数据页                                  | 索引即数据，数据即索引 |
   | 快速查找的方法     | 索引                                    | 索引即数据，数据即索引 |
   | 索引的使用         | 索引的分类，左匹配等                    |                        |
   | 数据的家           | MySQL的数据目录，系统表空间，独立表空间 |                        |
   | 页面的池子         | 页，段，块                              |                        |
   | 单表的访问方法     | 一张表怎么查询                          |                        |
   | 连接的原理         | 多表查询                                |                        |
   | MySQL成本优化      | 成本的优化                              |                        |
   | MySQL规则优化      | 规则的优化，不使用left join等           |                        |
   | 兵马未动，粮草先行 | innodb统计数据是如何收集的              |                        |
   | 查询优化的百科全书 | explain                                 |                        |
   | 调节磁盘和内存     | buffer poll                             |                        |
   | 事务               | 事务                                    |                        |
   | 说过的会做到       | redo                                    |                        |
   | 后悔了怎么办       | undo                                    |                        |
   |                    | 事务的隔离级别和MVCC                    |                        |
   |                    | 锁                                      |                        |
   |                    |                                         |                        |
   
   

## redis

1.取号业务（使用乐观锁）

​	不使用缓存，每次都走库，因为要保持强一致性，复习cap原理，cp,ap等

2.redis的存储方式
	五种存储结构，但只使用了String

3.Redis为什么快

​	复习Java的io，BIO,NIO,AIO，还有Linux网络编程的五种IO，重点是IO多路复用

​	为什么IO多路复用快，select，poll，epoll的区别，还有reactor

| index                      | 内容                         |      |
| -------------------------- | ---------------------------- | ---- |
| 基础：Redis的数据结构      | String,List,map,set,zset     | 熟悉 |
| 应用：分布式锁             | set+expire，redlock          | 熟悉 |
| 应用：延迟队列             | 队列，先进先出               | 了解 |
| 应用：位图                 |                              | 了解 |
| 应用：hyperloglog          | 用于粗略统计                 | 掌握 |
| 应用：布隆过滤器           | 大数据查找问题，判断是否存在 | 掌握 |
| 应用：简单限流             |                              | 了解 |
| 应用：漏斗限流             |                              | 了解 |
| 应用 ：近水楼台 —— GeoHash |                              |      |
| 应用 ：大海捞针 —— Scan    |                              |      |
| 原理：IO多路复用           |                              | 熟悉 |
| 通信协议                   |                              |      |
| 持久化                     | rdb,aof                      | 熟悉 |
| 管道                       |                              |      |
| 事务                       | 不支持回滚                   | 了解 |
| pubsub                     | 订阅                         |      |
| 小对象压缩                 |                              |      |
| 主从同步                   |                              | 熟悉 |
| 集群：Sentinel             |                              |      |
| codis                      |                              |      |
| cluster                    |                              |      |
| 拓展：stream               |                              |      |
| info                       |                              |      |
| 分布式锁                   | redlock                      | 熟悉 |
| 过期策略                   | lru,lfu                      |      |
| lru                        |                              | 熟悉 |
| 懒惰删除                   |                              |      |
| jedis                      |                              |      |
| 保护Redis                  |                              |      |
| redis安全通道              |                              |      |
| 命令行工具的使用           |                              |      |
| 源码：字符串的内部         |                              | 熟悉 |
| 字典内部                   |                              | 熟悉 |
| 压缩链表内部               |                              |      |
| 快速链表内部               |                              | 熟悉 |
| 跳跃链表内部               |                              |      |
| 紧凑链表内部               |                              | 熟悉 |
| 基数树内部                 |                              |      |
| lfu与lru的比较             |                              | 熟悉 |
| 懒惰删除的巨大牺牲         |                              |      |
| hyperloglog的内部          |                              |      |



## elasticsearch

简单概述

## 线上问题

1. 服务单独拆分（转图片服务）
2. 写了个脚本（线上清缓存）

## 设计模式

1.单例
	封装http工具包

2.策略
	新项目重构，抽取共同方法到一个interface下

3.工厂等

​	线程池，链接池等。